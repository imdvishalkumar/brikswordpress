/*!
Plugin: Mailchimp Sign-up JS
Version: 1.0.1
*/
(function(b,d,e){d(function(){d.blockUI.defaults.css={background:"none"};d.blockUI.defaults.overlayCSS={background:"white",opacity:0.5};d("form.mailchimp-signup").each(function(){var g=d(this);var h=d(this).find("input[type=submit]");h.unbind();h.click(function(i){i.preventDefault();i.stopPropagation();g.block();if(c(f(g,"mailchimp_email"))){jQuery.post(g.attr("action"),{action:"handle_mailchimp_ajax",mailchimp_email:f(g,"mailchimp_email"),mailchimp_fname:f(g,"mailchimp_fname"),mailchimp_lname:f(g,"mailchimp_lname"),ajax:true},function(l,m){g.unblock();var k=d.parseJSON(l);var j=(k.code==e);if(j){g.find("input").not("[type=hidden]").not("[type=submit]").val("");a(g,j)}else{a(g,j,k.error)}})}else{g.unblock();a(g,false,g.data("email_incorrect"))}})})});function f(i,g){var h=i.find("#"+g);if(h!=e){return h.val()}else{return""}}function c(h){var g=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return g.test(h)}function a(i,j,h){var g=i.find("#result");if(j){g.attr("class","").addClass("success");if(h==e){h=i.data("positive")}}else{g.attr("class","").addClass("failed");if(h==e){h=i.data("negative")}}g.html(h);g.slideDown(400,function(){clearTimeout(window.mailchimp_result_timeout);window.mailchimp_result_timeout=setTimeout(function(){g.slideUp(400)},10000)})}}(this,jQuery));